<div ng-controller="DiagnosisExpertSystemProcessController">
    <div id="page-wrapper">
        <div class="row">
            <div class="col-lg-12">
                <h2 class="page-header text-primary">Expert System</h2>
            </div>
            <div class="col-lg-12" ng-if="DiagnosisResponse.question != null">
                <div class="col-lg-6">
                    <h4><strong>Question</strong></h4>

                    <hr class="tagline-divider">

                    <h4>{{DiagnosisResponse.question.text}}</h4>

                    <hr class="tagline-divider">

                    <form ng-if="DiagnosisResponse.question.type == 'single'">
                        <div class="row">
                            <div ng-repeat="ans in DiagnosisResponse.question.items[0].choices">
                                <button type="button" class="btn btn-block" ng-click="AnswerQuestionSingle(DiagnosisResponse.question.items[0].id,ans.id)">{{ans.label}}</button>
                                <hr class="tagline-divider">
                            </div>
                        </div>
                    </form>

                    <form ng-if="DiagnosisResponse.question.type == 'group_multiple'">
                        <div class="form-group">
                            <div class="form-check" ng-repeat="item in DiagnosisResponse.question.items">
                                <label class="form-check-label">
                                    <input type="checkbox" ng-model="item.SELECTED" ng-true-value="1" ng-false-value="0" ng-checked="checkbox == 1" />
                                    {{item.name}}
                                </label>
                            </div>
                            <hr class="tagline-divider">
                            <button type="button" class="btn btn-block" ng-click="AnswerQuestionGroupMutiple(DiagnosisResponse.question.items)">Answer</button>
                        </div>
                    </form>

                    <form ng-if="DiagnosisResponse.question.type == 'group_single'">

                        <div class="form-group text-center">
                            <div class="row" ng-repeat="item in DiagnosisResponse.question.items">
                                <label class="custom-control custom-radio">
                                    <input type="radio" name="radio" ng-model="$parent.radioMod" ng-value="item" class="custom-control-input">
                                    <span class="custom-control-indicator"></span>
                                    <span class="custom-control-description">{{item.name}}</span>
                                </label>
                            </div>
                        </div>
                        <hr class="tagline-divider">
                        <button type="button" class="btn btn-block" ng-click="AnswerQuestionGroupSingle(radioMod)">Answer</button>
                    </form>

                </div>

                <div class="col-lg-6">
                    <h4><strong> Possible Conditions</strong></h4>
                    <hr class="tagline-divider">
                    <div class="row text-center" ng-repeat="con in DiagnosisResponse.conditions | orderBy: -DiagnosisResponse.probability  | limitTo:numOfConditons">
                        <button class="btn btn-default" data-toggle="modal" data-target=".bs-example-modal-lg" ng-click="GetCondition(con.id)">{{con.name}}</button>
                        <hr class="tagline-divider">
                    </div>
                </div>
            </div>
            <div class="col-lg-12" ng-if="DiagnosisResponse.question == null">
                <h2> Possible Conditions</h2>
                <div class="row" ng-repeat="con in DiagnosisResponse.conditions | orderBy: -DiagnosisResponse.probability | limitTo:numOfConditons">
                    <a class="btn btn-block" href="/DiagnosisExpertSystemCondition/{{con.id}}">{{con.name}}</a>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div id="page-wrapper">
                    <div class="row">
                        <div class="col-lg-12">
                            <h2 class="page-header text-primary">CONDITION</h2>
                        </div>
                        <hr class="tagline-divider">
                        <div class="form-group row">
                            <div class="col-lg-6">
                                <h4> DETAIL</h4>
                            </div>
                        </div>
                        <hr class="tagline-divider">
                        <br />
                        <div class="form-group row">
                            <div class="col-lg-2">
                                <label for="conditionName" class="col-xs-2 col-form-label">Name: </label>
                            </div>
                            <div class="col-lg-6">
                                <input class="form-control" type="text" value="{{Condition.name}}" id="conditionName">
                            </div>
                            <div class="col-lg-4">
                            </div>
                        </div>
                        <div class="form-group row">
                            <div class="col-lg-2">
                                <label for="conditionSeverity" class="col-xs-2 col-form-label">Severity: </label>
                            </div>
                            <div class="col-lg-6">
                                <input class="form-control" type="text" value="{{Condition.severity}}" id="conditionSeverity">
                            </div>
                            <div class="col-lg-4">
                            </div>
                        </div>
                        <div class="form-group row">
                            <div class="col-lg-2">
                                <label for="conditionPrevalence" class="col-xs-2 col-form-label">Prevalence: </label>
                            </div>
                            <div class="col-lg-6">
                                <input class="form-control" type="text" value="{{Condition.prevalence}}" id="conditionPrevalence">
                            </div>
                            <div class="col-lg-4">
                            </div>
                        </div>
                        <div class="form-group row">
                            <div class="col-lg-2">
                                <label for="conditionSex" class="col-xs-2 col-form-label">Sex: </label>
                            </div>
                            <div class="col-lg-6">
                                <input class="form-control" type="text" value="{{Condition.sex_filter}}" id="conditionSex">
                            </div>
                            <div class="col-lg-4">
                            </div>
                        </div>
                        <div class="form-group row">
                            <div class="col-lg-2">
                                <label for="conditionAcuteness" class="col-xs-2 col-form-label">Acuteness: </label>
                            </div>
                            <div class="col-lg-6">
                                <input class="form-control" type="text" value="{{Condition.acuteness}}" id="conditionAcuteness">
                            </div>
                            <div class="col-lg-4">
                            </div>
                        </div>
                        <div class="form-group row">
                            <div class="col-lg-2">
                                <label for="example-text-input" class="col-xs-2 col-form-label">Extra: </label>
                            </div>
                            <div class="col-lg-6">
                                <label>{{Condition.extras.hint}}</label>
                            </div>
                            <div class="col-lg-4">
                            </div>
                        </div>


                    </div>
                </div>


            </div>
        </div>
    </div>
</div>